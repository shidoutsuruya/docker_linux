# Docker

* `docker login` log in docker repo
* `docker system info` check docker infomation
* `docker --version` or`docker -v` check docker version
* `docker network ls` see the network configuration
* `docker port [container]` set container port

## Image

* `docker image ls`  check download images

  * `-a` show all images
  * `--digests` show digests
  * `--filter dangling=true` filter
  * `--format "{{.Repository}}:{{.Tag}}:{{.Size}}"` see info in specific format
  * `-q` only show image id
* `docker image pull [image]:[version]` pull image from repo or dockerhub
* `docker search [image]` search image
* `docker image inspect [image]` see more info about image
* `docker image rm [image]` or `docker rmi [image]` remove image
* `docker image build -t [dockerfile]` build new image by dockerfile
* `docker image push [new_image]` push your image into dockerhub
* `docker image history [image]` see image history
* `docker image rm $(docker image ls -q)` clear all images
* `docker image prune` deletes all dangling images

  * `-a` delelte dangling images and unused images
* `docker tag [image]:[tag] [repo]:[tag]` tag image

## Container

* `docker container ls` check created containers

  * `-a` show all containers
* `docker container run -it [image]` create new container

  * `--restart` restart the container
  * `--name [name]` define the name of container
  * `-p 80:8080` give access port
  * `-d` run but not attach in container
  * `-v [local_path]:[container_path]` use volume to map with the container directory and local directory
* `docker attach [container]` go into container
* `docker start [container]` start container
* `docker container stop [container]` stop container
* `docker container rm [container]` remove container
* `docker commit [container] [new_image:tag]` commit container as a new image

  * `-a [author]` author
  * `-m [message]` message
* `docker container prune` remove all stopped containers
* `docker rm -f $(docker ps -aq)` clear all containers
* `docker container exec -it [container] [command]` execute command in selected container
* `docker rename [old_name] [new name]` rename the container
* `docker cp [container]:[file_path] [local]` copy file between local and container

<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="397px" height="376px" viewBox="-0.5 -0.5 397 376" content="<mxfile host="Electron" modified="2022-01-16T06:06:00.708Z" agent="5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/16.1.2 Chrome/96.0.4664.55 Electron/16.0.5 Safari/537.36" etag="jlz6T9xq3RlvgnWnedLs" version="16.1.2" type="device"><diagram id="SyU-eX66Ml8cYSCfFLN7" name="Page-1">7Zndb5swEMD/Gh5b8RGT9LFtmm3SJk3rpq1PkwsOWDWYGdMk++t3BvOdpA0jyTbtpcVn+2zufnc+HMO5jdZvBE7CD9wnzLBNf204c8O2r+wr+KsEm0KAploQCOoXIqsW3NOfRAtNLc2oT9LWQMk5kzRpCz0ex8STLRkWgq/aw5actVdNcEB6gnsPs770K/VlWEhnyKzlbwkNwnJly9Q9ES4Ha0EaYp+vGiLnznBuBeeyeIrWt4Qp25V2KeYtdvRWGxMklq+Z4H3x7+bvn96xp++fH64flj9uNp8u7ELLM2aZfmHDdhnou1lyUAu7lhttCvdHxsuOizR31DUMsGbJuu6Ep0D9pxEYJi11waYKdUWntkel2RY8i32i9mlB9yqkktwn2FO9K6AKZKGMmO5OpeBP5JYzLvLZjjNbLBa22hllrCEH6QK8Ua73TIQk653GsyqXAMqER0SKDQzRE5zSixpj29HtVQ2FVY4JG0C4WoY1h0GlunYVPGhvHeC5yU7PpQmOh3sOAkliGhPR9F6h8qTeQ/YCPHgc7znTc3sPHcl7c+49EbGgMPes3lNy5IzjPcvpxN7s3N5ze97zc7uDTJCE/56NlZ/1OWjNDst3pnmsiDm7yac9k3s8iqjs2ZrE/rU696HlMZym1Gubt/aFucXYZE3lN9V3aSPdfNBD1fN83WxsykYMb9icpdoPer28Uc/LW+XEYvPE75UgHTfBC/JMeGSPffRxILEIiHzpwO+7veFXtMWtpUwQhiV9bm93m6/1Ch85zasITdXE7ORhu4NL8Zp6VrOW6SpCnZQw7Sgq7LBHUTmQL5cpaY3J8axMM5zYWY/Yx4xC9TkysBV7TfDMS/QCeiXoVpPyS7SX8xFxRf9xfQWuY6F41UNR4mBsEAGLe62MCxnygMeY3dXSOre2kLP3M7czt5ovAO5l4rk6ckck1/49cjURF+blxDVnLSrKHH4auNGkA7c1EG7XHAY3sIY3jWGJGpDu3nBVg+h1rKvW9y48FBpPnugtqxdeIotHDq8WznWVMm1WKdZrI2l6UCSdIXgm/0TaR7s+XE6U9q1ttzsdKttcjVI7H1JSNKA8qHJ++bQZkdrX1tb/BrVDi5VD83k3Oib78vloIeH0QiKF95HlbcmjKC9KUsmTvlQQPbyb3IGz9/iRsHbAYEaDWEUTMEfgM/1GfZRTD7Nr3RFR389xBcX0J37M9SnAtfVAObox0HxLuBm7vvL1VbhWZlQX0E309+SLfTWL69idmgWNAq/tdrR2NBzx8O7foyZZGh719B56XTDocuIMp7f7R+VBc2AedDp50EInPr37t4xJpqb9ryt3Xcj+ZdcJQ8nsndCjkQnN+gfJYnj9q65z9ws=</diagram></mxfile>" style="background-color: rgb(255, 255, 255);"><defs/><g><rect x="190" y="150" width="120" height="60" rx="9" ry="9" fill="#ffff00" stroke="#38fff2" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 180px; margin-left: 191px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font style="font-size: 18px">images</font></div></div></div></foreignObject><text x="250" y="184" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">images</text></switch></g><rect x="190" y="290" width="120" height="60" rx="9" ry="9" fill="#52f3ff" stroke="#38fff2" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 320px; margin-left: 191px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><span style="font-size: 18px">containers</span></div></div></div></foreignObject><text x="250" y="324" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">containers</text></switch></g><rect x="0" y="200" width="120" height="60" rx="9" ry="9" fill="#38ff53" stroke="#38fff2" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 230px; margin-left: 1px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><span style="font-size: 18px">DockerFile</span></div></div></div></foreignObject><text x="60" y="234" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">DockerFile</text></switch></g><rect x="190" y="0" width="120" height="60" rx="9" ry="9" fill="#ff00ff" stroke="#38fff2" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 30px; margin-left: 191px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">docker repo</div></div></div></foreignObject><text x="250" y="35" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">docker repo</text></switch></g><path d="M 220 290 L 220 216.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 220 211.12 L 223.5 218.12 L 220 216.37 L 216.5 218.12 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 250px; margin-left: 220px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">commit</div></div></div></foreignObject><text x="220" y="255" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">commit</text></switch></g><path d="M 120 230 L 184.82 183.7" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 189.09 180.65 L 185.43 187.57 L 184.82 183.7 L 181.36 181.87 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 205px; margin-left: 155px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">build</div></div></div></foreignObject><text x="155" y="210" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">build</text></switch></g><path d="M 190 165 Q 150 110 214.47 146.84" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 219.03 149.45 L 211.22 149.01 L 214.47 146.84 L 214.69 142.93 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 130px; margin-left: 170px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">tag</div></div></div></foreignObject><text x="170" y="136" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">tag</text></switch></g><path d="M 280 210 Q 280 210 280 283.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 280 288.88 L 276.5 281.88 L 280 283.63 L 283.5 281.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 250px; margin-left: 280px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">run</div></div></div></foreignObject><text x="280" y="255" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">run</text></switch></g><path d="M 310 320 Q 400 410 255.91 352.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 251.04 350.42 L 258.84 349.77 L 255.91 352.37 L 256.24 356.26 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 311px; margin-left: 370px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">start<br />stop<br />restart</div></div></div></foreignObject><text x="370" y="316" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">start...</text></switch></g><path d="M 220 150 Q 220 150 220 66.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 220 61.12 L 223.5 68.12 L 220 66.37 L 216.5 68.12 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 105px; margin-left: 220px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">push</div></div></div></foreignObject><text x="220" y="110" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">push</text></switch></g><path d="M 280 60 Q 280 60 280 143.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 280 148.88 L 276.5 141.88 L 280 143.63 L 283.5 141.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 105px; margin-left: 280px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">pull</div></div></div></foreignObject><text x="280" y="110" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">pull</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>

## Volume

* `docker volume ls` see the volume
* `docker volume create [volume]` create new volume
* `docker volume inspect [volume]` see volume info
* `docker volume rm [volume]` remove volume
* `docker volume prune` remove volume not used in container
